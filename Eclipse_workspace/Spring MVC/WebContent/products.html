<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js">
</script>
<title>jQuery example as REST Client</title>

<script>
	$(function(){
		$.ajax({
			method: 'GET',
			url: './api/products',
			headers: {
				'Accept': 'application/json'
			},
			success: function(resp){
				var tbody = $("table#productsTable tbody");
				tbody.html('');
				resp.forEach(pr=>{
					var row = $('<tr>');
					$('<td>').append(pr.productName).appendTo(row);
					$('<td>').append(pr.quantityPerUnit).appendTo(row); 
					$('<td>').append(pr.unitPrice).appendTo(row); 
					$('<td>').append(pr.unitsInStock).appendTo(row); 
					tbody.append(row);
				});
				
			}
		});
	});
</script>
</head>
<body>
	<h1>jQuery example as REST Client</h1>
	<h2>List of all products</h2>
	
	
	<table border="1" id="productsTable">
		<thead>
			<tr>
				<th>Name</th>
				<th>Quantity per unit</th>
				<th>Unit price (USD)</th>
				<th>Units in stock</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</body>
</html>